<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Admin Panel</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />

    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700&family=Barlow:wght@400;500;600&family=Inter:wght@700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="../css/style.css" />
    <link rel="shortcut icon" href="/favicon/favicon.ico">
  </head>
  <body>
    <div class="admin-panel-container">
      <!-- Left Sidebar -->
      <aside class="admin-panel-sidebar collapsed">
        <div class="admin-panel-profile">
          <img
            src="../assets/avatar.png"
            alt="User"
            class="admin-panel-avatar"
          />
          <div class="admin-panel-info">
            <h3 class="admin-panel-username">Admin</h3>
            <p class="admin-panel-role">Administrator</p>
          </div>
          <button id="adminSidebarToggle" class="admin-panel-collapse-btn">
            ❯
          </button>
        </div>

        <nav class="admin-panel-menu">
          <div class="admin-panel-menu-title">Main</div>
          <div class="admin-panel-menu-item active">
            <img class="icon" src="../assets/trading-icon.svg" alt="Trade" />
            <span class="text">Trade</span>
          </div>

          <div class="admin-panel-menu-item">
            <img class="icon" src="../assets/users-icon.svg" alt="Users" />
            <span class="text">Users</span>
          </div>
          <div class="admin-panel-menu-item">
            <img class="icon" src="../assets/news-icon.svg" alt="News" />
            <span class="text">News</span>
          </div>
          <div class="admin-panel-menu-item">
            <img class="icon" src="../assets/chatbot-icon.svg" alt="AI" />
            <span class="text">AI</span>
          </div>
        </nav>

        <div class="admin-panel-messages">
          <h4>Message</h4>
          <div class="admin-panel-message">
            <img src="../assets/avatar.png" /> <span>Mẫn Dần</span>
          </div>
          <div class="admin-panel-message">
            <img src="../assets/avatar.png" /> <span>Kudo Skibidi</span>
          </div>
          <div class="admin-panel-message">
            <img src="../assets/avatar.png" /> <span>Basupeso</span>
          </div>
        </div>

        <button class="admin-panel-logout" id="admin-panel-logout">
          <img class="icon" src="../assets/logout-icon.svg" alt="Logout" />
        </button>
      </aside>

      <!-- admin panel main section -->
      <main class="admin-panel-main">
        <div class="admin-panel-top">
          <div class="admin-panel-left">
            <div
              class="calculator-container"
              style="padding: 20px; background: transparent; box-shadow: none"
            >
              <div class="calculator-content">
                <h3 style="margin-bottom: 20px; font-size: 18px">
                  Currency Converter
                </h3>

                <div class="calculator-input-group">
                  <div class="input-wrapper">
                    <input
                      type="number"
                      id="fromAmount"
                      placeholder="0.00"
                      step="any"
                    />
                    <div class="currency-selector" id="fromCurrencySelector">
                      <div class="currency-icon-compact"></div>
                      <span id="fromCurrency">BTC</span>
                      <span class="dropdown-arrow">▾</span>
                    </div>
                  </div>
                </div>

                <div class="swap-container">
                  <button id="swapBtn" class="swap-btn">⇅</button>
                </div>

                <div class="calculator-input-group">
                  <div class="input-wrapper">
                    <input
                      type="number"
                      id="toAmount"
                      placeholder="0.00"
                      step="any"
                      readonly
                    />
                    <div class="currency-selector" id="toCurrencySelector">
                      <div class="currency-icon-compact"></div>
                      <span id="toCurrency">USDT</span>
                      <span class="dropdown-arrow">▾</span>
                    </div>
                  </div>
                </div>

                <div class="exchange-rate" id="exchangeRate">
                  Exchange rate: 1 BTC ≈ 0 USDT
                </div>
              </div>
            </div>
            <div class="admin-panel-pie-charts">
              <div class="admin-panel-pie-card">
                <canvas
                  id="admin-panel-age-chart"
                  class="admin-panel-age-chart"
                ></canvas>
                <div id="tooltip"></div>
                <h3
                  style="margin: 0 auto; width: fit-content"
                  class="admin-panel-age-chart-title"
                >
                  Age Distribution of Users
                </h3>
              </div>
            </div>
          </div>
          <div class="admin-panel-card-right">
            <div class="admin-panel-pie-card">
              <canvas
                id="admin-panel-coin-held-chart"
                class="admin-panel-coin-held-chart"
              ></canvas>
              <div id="tooltip2"></div>
              <h3
                style="margin: 0 auto; width: fit-content"
                class="admin-panel-coin-held-chart-title"
              >
                Current Coin Holdings Distribution
              </h3>
            </div>
            <!-- Bar chart #1 - trade -->
            <canvas
              id="admin-panel-trade-chart"
              class="admin-panel-trade-chart"
            ></canvas>
            <h3
              style="margin: 0 auto; width: fit-content"
              class="admin-panel-trade-chart-title"
            >
              Daily Trades Count (Last 5 Days)
            </h3>
          </div>
        </div>
        <div class="admin-panel-bar-chart-container">
          <!-- Bar chart #2 - users -->
          <canvas
            id="admin-panel-login-chart"
            class="admin-panel-login-chart"
          ></canvas>
          <h3
            style="margin: 0 auto; width: fit-content"
            class="admin-panel-login-chart-title"
          >
            Daily Logins Count (Last 10 Days)
          </h3>
        </div>
        <div class="admin-panel-controls">
          <div class="admin-panel-controls-btn-container">
            <button class="admin-panel-btn" id="filter-btn">Filters</button>
            <button class="admin-panel-btn" id="export-btn">Export</button>
          </div>
          <div class="admin-panel-controls-time">Time:</div>
        </div>

        <!-- admin panel main section -->
        <div class="admin-panel-table-wrapper">
          <div class="admin-panel-trade"></div>
        </div>
        <div class="admin-panel-table-wrapper">
          <div class="admin-panel-users"></div>
        </div>
        <div class="admin-panel-table-wrapper">
          <div class="admin-panel-news"></div>
        </div>

        <!-- AI Section -->
        <section class="admin-panel-ai hidden">
          <div class="admin-panel-ai-left">
            <p class="admin-panel-ai-eyebrow">AI Control</p>
            <h2>Ask about users, coins, or trades</h2>
            <p class="admin-panel-ai-status" id="admin-ai-status">
              Ready for a question
            </p>
            <div class="admin-panel-ai-chips">
              <button class="admin-ai-chip" data-prompt="Give me a quick health summary with online users, trades this week, and which coins dominate holdings.">
                Health snapshot
              </button>
              <button class="admin-ai-chip" data-prompt="Which coins do our users hold the most? Add a short risk note.">
                Top holdings
              </button>
              <button class="admin-ai-chip" data-prompt="Show me login and trade momentum for the last few days.">
                Momentum
              </button>
            </div>
            <div class="admin-panel-ai-input">
              <textarea
                id="admin-ai-input"
                rows="3"
                placeholder="E.g. Which coins drive the most volume and how many users are active today?"
              ></textarea>
              <button id="admin-ai-submit" class="admin-panel-ai-submit">
                Ask AI
              </button>
            </div>
            <p class="admin-panel-ai-footnote">
              The assistant sees aggregated holdings, user mix, login trends, and live trade volume.
            </p>
          </div>
          <div class="admin-panel-ai-right">
            <div class="admin-panel-ai-thread">
              <div class="admin-panel-ai-thread-header">
                <span>Conversation</span>
                <button id="admin-ai-clear-history" class="admin-ai-clear-btn" title="Clear chat history">
                  Clear
                </button>
              </div>
              <div class="admin-panel-ai-thread-body" id="admin-ai-thread">
                <div class="admin-ai-empty">Ask a question to start the thread.</div>
              </div>
            </div>
            <div class="admin-panel-ai-chart">
              <div class="admin-ai-chart-header">
                <span class="admin-ai-chart-title" id="admin-ai-chart-title">Top coin holdings</span>
                <span class="admin-ai-chart-note" id="admin-ai-chart-note"></span>
              </div>
              <canvas id="admin-ai-chart"></canvas>
            </div>
          </div>
        </section>
      </main>
    </div>
    <script type="module" src="../js/admin-panel.js"></script>
    <script type="module" src="../js/crypto-calculator.js"></script>
  </body>
</html>
